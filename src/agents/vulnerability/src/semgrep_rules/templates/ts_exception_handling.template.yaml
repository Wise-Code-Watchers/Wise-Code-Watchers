rules:
  - id: ts-try-catch-{{SYMBOL}}
    languages: [typescript]
    severity: INFO
    message: "Try-catch block around {{SYMBOL}}"
    patterns:
      - pattern: |
          try {
            ...
            {{SYMBOL}}(...)
            ...
          } catch ($ERR) {
            ...
          }

  - id: ts-no-try-catch-{{SYMBOL}}
    languages: [typescript]
    severity: WARNING
    message: "Call to {{SYMBOL}} without try-catch"
    patterns:
      - pattern: "{{SYMBOL}}(...)"
      - pattern-not-inside: |
          try {
            ...
          } catch (...) {
            ...
          }

  - id: ts-throw-error
    languages: [typescript]
    severity: INFO
    message: "Throwing an error"
    patterns:
      - pattern: "throw new Error(...)"
      - pattern: "throw new $TYPE(...)"
      - pattern: "throw $ERR"

  - id: ts-finally-block
    languages: [typescript]
    severity: INFO
    message: "Finally block for cleanup"
    patterns:
      - pattern: |
          try {
            ...
          } ... finally {
            ...
          }
