rules:
  - id: ts-promise-{{SYMBOL}}
    languages: [typescript]
    severity: INFO
    message: "Promise call to {{SYMBOL}}"
    patterns:
      - pattern: "{{SYMBOL}}(...).then(...)"

  - id: ts-await-{{SYMBOL}}
    languages: [typescript]
    severity: INFO
    message: "Await call to {{SYMBOL}}"
    patterns:
      - pattern: "await {{SYMBOL}}(...)"

  - id: ts-promise-catch-{{SYMBOL}}
    languages: [typescript]
    severity: INFO
    message: "Promise catch for {{SYMBOL}}"
    patterns:
      - pattern: "{{SYMBOL}}(...).catch(...)"

  - id: ts-promise-no-catch-{{SYMBOL}}
    languages: [typescript]
    severity: WARNING
    message: "Promise from {{SYMBOL}} without catch"
    patterns:
      - pattern: "{{SYMBOL}}(...).then(...)"
      - pattern-not: "{{SYMBOL}}(...).then(...).catch(...)"
      - pattern-not: "{{SYMBOL}}(...).catch(...)"

  - id: ts-async-function-{{SYMBOL}}
    languages: [typescript]
    severity: INFO
    message: "Async function {{SYMBOL}}"
    patterns:
      - pattern: |
          async function {{SYMBOL}}(...) {
            ...
          }
      - pattern: |
          async {{SYMBOL}} = (...) => {
            ...
          }
